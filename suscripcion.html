const userData = JSON.parse(localStorage.getItem("userData"));

if (!userData) {
window.location.href = "index.html";
} else {
const bienvenida = document.getElementById("bienvenida");
const diasRestantes = document.getElementById("dias-restantes");
const popup = document.getElementById("popup");

bienvenida.textContent = `Bienvenido ${userData.username} a Play View!`;

if (userData.username === "not4dmin") {
diasRestantes.textContent = "Membresía: Ilimitada (Administrador)";
} else {
const fechaExpira = new Date(userData.expira);
const hoy = new Date();
const diferencia = Math.ceil((fechaExpira - hoy) / (1000 * 60 * 60 * 24));
diasRestantes.textContent = diferencia >= 0
? `Le quedan ${diferencia} día(s) de membresía.`
: `Su membresía ha expirado.`;
}

popup.style.display = "block";
}

function cerrarPopup() {
document.getElementById("popup").style.display = "none";
}

function logout() {
localStorage.removeItem("userData");
window.location.href = "index.html";
}
